## No.4 オートコンプリートよりもアシスト入力を優先する

### 識別子

| GreenIT |  V2  |  V3  |  V4  |
|:-------:|:----:|:----:|:----:|
|  204    | 4  | 4  |      |

### カテゴリ

| ライフサイクル |  サードパーティ  |  担当者  |
|:---------:|:----:|:----:|
| 1. 仕様 | ユーザ/端末 | PO/AMOA |

### 効果

| 優先度 |      実装難易度       |  エコロジーへの影響度    |
|:-------------------:|:-------------------------:|:---------------------:|
| 3 | 3 | 3 |

|リソース                                      |
|:----------------------------------------------------------:|
| クエリ    |

### 説明

オートコンプリート、または自動補完は、ユーザーが入力中にその検索に対応する結果を提案する非常に一般的な機能です。例として、ルートを検索するサイトでは、ユーザーが「Par」と入力したときに「パリ」、「リヨン・パール・デュー」、「パレ・ル・モニアル」を提案します。

オートコンプリートの実装は、対応する結果を取得するために、入力される各文字ごとにサーバーへのリクエストを送信するものです。そのため、多くのリクエストが実行され、多くのリソースが消費されることがあります。

可能な限り、この機能はアシステッド入力に置き換えるべきです。これには、以下のような情報と手がかりによってユーザーを導くことが含まれます：

* 入力フィールドでグレー表示される期待される形式（placeholder）
* 期待される形式を説明するテキスト
* 入力が誤っている場合のエラーメッセージや色の変更と、テキストによる支援によるインターフェイスの反応
など
アシステッド入力に関連するインタラクションはローカルで管理されるため、サーバーとの通信が減ります。

都市の補完とルート検索の例では、曖昧さがある場合、フォームを送信した後にさまざまな結果を提案することができます。ユーザーは文字列を入力し、たとえば「レンズ」と入力してフォームを送信し、「レンズ（フランス）」、「レンズ（ベルギー）」、「ロワゾン・スー・レンズ」などの異なるオプションが提示されます。

オートコンプリートを避けることができない場合、以下のような単純な最適化でリクエストの数を最小限に抑えることができます：

* 文字を追加してからリクエストするまでの数十分の1秒の遅延を追加する：ユーザーが入力を終了していない場合、リクエストをトリガーしないようにします。
* オートコンプリートによって表示される結果の数を制限し、関連性のスコアで優先順位をつけます。
* 補完を試みる前に最小文字数を設定する。
* データベースのサイズが許容する場合、HTMLコードまたはlocal storageに含め、クライアント側でオートコンプリートを実行します。
* 入力された文字列をキーとして検索結果をキャッシュし、データベースへのアクセスを減らします。
* 結果の数を制限するために結果を文脈化します。

### 例

潜在的な利益：機能に対してアシステッド入力を使用するたびに、関連するリクエストの数を10倍減らします。

### 代替ソリューション

ユーザーに提案されるデータが量的に十分小さい場合、HTMLコードに直接含め、ネイティブの[datalist要素](https://developer.mozilla.org/fr/docs/Web/HTML/Element/datalist)を使用することができます。

このシステムは、サーバーとの往復なしに、ネイティブで自動補完のメカニズムを提供します。

```html
<label for="ice-cream-choice">Choose a flavor:</label>
<input list="ice-cream-flavors" id="ice-cream-choice" name="ice-cream-choice" />

<datalist id="ice-cream-flavors">
    <option value="Chocolate">
    <option value="Coconut">
    <option value="Mint">
    <option value="Strawberry">
    <option value="Vanilla">
</datalist>
```

### 検証原理

| 検証項目     | 次の値以下である   |  
|-------------------|:-------------------------:|
| 自動補完のフィールド | 20%  |

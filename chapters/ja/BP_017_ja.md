## No.17 適切なデータ形式を選択する

### 識別子

| GreenIT |  V2  |  V3  |  V4  |
|:-------:|:----:|:----:|:----:|
|  113    | 54  | 17  |      |

### カテゴリ

| ライフサイクル |  サードパーティ  |  担当者  |
|:---------:|:----:|:----:|
| 3. 実現 (製造 / 実装) | データセンター | ソフトウェアアーキテクト/開発者 |

### 効果

| 優先度 |      実装難易度       |  エコロジーへの影響度    |
|:-------------------:|:-------------------------:|:---------------------:|
| 4 | 3 | 4 |

|リソース                                      |
|:----------------------------------------------------------:|
|  プロセッサ / RAM / ストレージ / ネットワーク  |

### 説明

データを操作および格納するために使用されるデータタイプは、メモリの消費とデータベース操作、アプリケーションサーバーのレベル、さらにはブラウザ内（JavaScriptを介した操作）におけるプロセッサのサイクルに大きな影響を与えます。さらに、必要なストレージスペースにも影響します。間違ったデータタイプを選ぶと：
 - メモリの無駄使い（例えば、大量のデータを格納するために設計されたカラムに非常に小さなデータを格納する場合）；
 - パフォーマンスの問題（数値で検索する方が文字列で検索するよりも速い）。
   
理想的には、データタイプとそのサイズの選択は、代表的なデータのサンプル分析に基づいて行う必要があります。

### 例

教育機関の場合、生徒数を格納するフィールドのサイズは、統計的な調査に基づいて設定する必要があります。
したがって、TINYINT（1バイト、最大127）を使用するか、SMALLINT（2バイト、最大32,767）を使用するかを判断することができます。
いずれにせよ、デフォルトの選択肢であるINT（4バイト、最大2,147,483,647）やBIGINT（8バイト）を選ぶのは、無理がある（私たちは残念ながら毎日監査でこれに出くわします...）。
潜在的な利点：ストレージが最大8倍少なくなります。プロセッサのサイクル消費も同じ割合で削減されます。

UUIDの識別子のストレージの場合、テキスト形式のストレージは適していません。UUIDは16バイトで格納されるのに対して、テキスト形式では最低36バイトが必要です。データベースのインデックスも、UUID/GUID/uniqueidentifierタイプと同じくらい効率的ではありません。

### 検証原理

| 検証項目     | 次の値以下である   |  
|-------------------|:-------------------------:|
|  形式が不適切なデータベースのフィールドの数  | 15%  |
